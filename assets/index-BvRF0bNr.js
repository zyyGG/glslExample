var G=Object.defineProperty;var x=e=>{throw TypeError(e)};var $=(e,t,i)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var h=(e,t,i)=>$(e,typeof t!="symbol"?t+"":t,i),w=(e,t,i)=>t.has(e)||x("Cannot "+i);var I=(e,t,i)=>(w(e,t,"read from private field"),i?i.call(e):t.get(e)),E=(e,t,i)=>t.has(e)?x("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i);var d=(e,t,i)=>(w(e,t,"access private method"),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}})();const X="modulepreload",H=function(e,t){return new URL(e,t).href},O={},s=function(t,i,r){let o=Promise.resolve();if(i&&i.length>0){const c=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),m=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(i.map(n=>{if(n=H(n,r),n in O)return;O[n]=!0;const g=n.endsWith(".css"),W=g?'[rel="stylesheet"]':"";if(!!r)for(let p=c.length-1;p>=0;p--){const f=c[p];if(f.href===n&&(!g||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${W}`))return;const u=document.createElement("link");if(u.rel=g?"stylesheet":X,g||(u.as="script"),u.crossOrigin="",u.href=n,m&&u.setAttribute("nonce",m),document.head.appendChild(u),g)return new Promise((p,f)=>{u.addEventListener("load",p),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${n}`)))})}))}function a(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return o.then(c=>{for(const l of c||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},S=Object.assign({"./public/fragment/001_基本变换.glsl":()=>s(()=>import("./001_基本变换-C4bVFN4Q.js"),[],import.meta.url),"./public/fragment/002_雷达警告.frag":()=>s(()=>import("./002_雷达警告-DV64fbxm.js"),[],import.meta.url),"./public/fragment/003_边框虚幻效果.frag":()=>s(()=>import("./003_边框虚幻效果-DfjNafMO.js"),[],import.meta.url),"./public/fragment/004_带有光晕的球.frag":()=>s(()=>import("./004_带有光晕的球-Bf0WxiyJ.js"),[],import.meta.url),"./public/fragment/005_画一个点.frag":()=>s(()=>import("./005_画一个点-DwKSJdUl.js"),[],import.meta.url),"./public/fragment/006_极坐标.frag":()=>s(()=>import("./006_极坐标-CepONHKX.js"),[],import.meta.url),"./public/fragment/007_距离场.frag":()=>s(()=>import("./007_距离场-CdqwyiwP.js"),[],import.meta.url),"./public/fragment/008_fract空间分割.frag":()=>s(()=>import("./008_fract空间分割-Ysq58Rl8.js"),[],import.meta.url),"./public/fragment/009_雷达扫描效果.frag":()=>s(()=>import("./009_雷达扫描效果-DwVEa2SX.js"),[],import.meta.url),"./public/fragment/010_区分奇偶行.frag":()=>s(()=>import("./010_区分奇偶行-BleWKZVd.js"),[],import.meta.url),"./public/fragment/011_随机_基础.frag":()=>s(()=>import("./011_随机_基础-BCq8LY6r.js"),[],import.meta.url),"./public/fragment/012_随机_像素.frag":()=>s(()=>import("./012_随机_像素-vtgI0qkm.js"),[],import.meta.url),"./public/fragment/013_图案_矩阵.frag":()=>s(()=>import("./013_图案_矩阵-dfxcAymV.js"),[],import.meta.url),"./public/fragment/014_图案_偏移_砖墙效果.frag":()=>s(()=>import("./014_图案_偏移_砖墙效果-DZ0MuZkw.js"),[],import.meta.url),"./public/fragment/015_图案_偏移_横列效果.frag":()=>s(()=>import("./015_图案_偏移_横列效果-CK1BTCvE.js"),[],import.meta.url),"./public/fragment/016_噪声_示例1.frag":()=>s(()=>import("./016_噪声_示例1-YvNRCgR1.js"),[],import.meta.url),"./public/fragment/017_噪声_木头纹理.frag":()=>s(()=>import("./017_噪声_木头纹理-DqsO5WBC.js"),[],import.meta.url),"./public/fragment/018_噪声_基本.frag":()=>s(()=>import("./018_噪声_基本-XxKBzioF.js"),[],import.meta.url),"./public/fragment/019_噪声_Gradient_noise.frag":()=>s(()=>import("./019_噪声_Gradient_noise-DUaPOfre.js"),[],import.meta.url),"./public/fragment/020_噪声_moise一维函数.frag":()=>s(()=>import("./020_噪声_moise一维函数-D8FdaWwo.js"),[],import.meta.url),"./public/fragment/021_噪声_value-noise.frag":()=>s(()=>import("./021_噪声_value-noise-BpnfECBp.js"),[],import.meta.url),"./public/fragment/022_Worley噪声_基础.frag":()=>s(()=>import("./022_Worley噪声_基础-B3Z43YQy.js"),[],import.meta.url),"./public/fragment/023_Worley噪声_加强.frag":()=>s(()=>import("./023_Worley噪声_加强-CSFwKFef.js"),[],import.meta.url),"./public/fragment/024_FBM_基础噪声.frag":()=>s(()=>import("./024_FBM_基础噪声-CmXmBI5i.js"),[],import.meta.url),"./public/fragment/025_FBM_Worley噪声.frag":()=>s(()=>import("./025_FBM_Worley噪声-DbT7jowH.js"),[],import.meta.url),"./public/fragment/026_FBM_uv扰动.frag":()=>s(()=>import("./026_FBM_uv扰动-B8AcHg1R.js"),[],import.meta.url),"./public/fragment/027_SDF_circle.frag":()=>s(()=>import("./027_SDF_circle-DJbRlUyI.js"),[],import.meta.url),"./public/fragment/028_噪声_溶解效果.glsl":()=>s(()=>import("./028_噪声_溶解效果-CMu0Zz20.js"),[],import.meta.url),"./public/fragment/029_SDF_图形混合_基本规则.frag":()=>s(()=>import("./029_SDF_图形混合_基本规则-Bh47ZO9e.js"),[],import.meta.url),"./public/fragment/030_texture_载入纹理.frag":()=>s(()=>import("./030_texture_载入纹理-C-xQgHJ5.js"),[],import.meta.url),"./public/fragment/031_texture_纹理混合sdf.frag":()=>s(()=>import("./031_texture_纹理混合sdf-DpVB_X67.js"),[],import.meta.url),"./public/fragment/032_texture_流动效果.frag":()=>s(()=>import("./032_texture_流动效果-CEDQS2HL.js"),[],import.meta.url)});function q(){const e=[];for(const t in S){const i=S[t];if(/\.(frag|glsl)$/.test(i.name)){const r=i.name.replace(/^(\.\/public)/,""),o=r.split("/").pop().split(".")[0];e.push({name:o,path:`/glslExample${r.replace(/^\./,"")}`,img:`/glslExample/images/${o}.png`})}}return e}function P(e){const t=document.querySelector(".example-list");e.forEach(i=>{const r=document.createElement("div");r.className="example-item",r.innerHTML=`
      <img class="item-image" src="${i.img}" alt="Vite Logo" class="logo" onError="this.src='break.svg'" />
      <div class="item-title" title="${i.name}">${i.name}</div>
    `,r.addEventListener("click",()=>{U(i)}),t.appendChild(r)})}function M(){document.getElementById("toggleExpandBtn").addEventListener("click",Y),document.getElementById("searchInput").addEventListener("input",j)}function k(){document.body.style.setProperty("--example-list-width","200px")}function z(){k(),M()}function Y(){const e=document.body.style.getPropertyValue("--example-list-width");document.body.style.setProperty("--example-list-width",e==="200px"?"700px":"200px"),document.querySelector(".example-list").classList.toggle("expanded")}let R=null;function j(e){R&&clearTimeout(R),R=setTimeout(()=>{const t=e.target.value.toLowerCase();if(document.querySelectorAll(".example-item").forEach(r=>r.remove()),t=="")P(b);else{const r=b.filter(o=>o.name.toLowerCase().includes(t));P(r)}},300)}function J(){document.body.style.setProperty("--example-list-width","200px"),document.querySelector(".example-list").classList.remove("expanded")}const b=q();P(b);z();var T,y,_,V,A,F;class C{constructor(t){E(this,_);h(this,"gl",null);h(this,"canvas",null);h(this,"canvasContainer",null);h(this,"width",0);h(this,"height",0);h(this,"program",null);h(this,"uniforms");E(this,T,{});h(this,"attribute");E(this,y,{});h(this,"size",2);h(this,"vertexShader",`
  attribute vec2 a_position;
  attribute vec2 a_texCoord;

  void main() {
    vec2 zeroToOne = a_position;
    vec2 zeroToTwo = zeroToOne * 2.0;
    vec2 clipSpace = zeroToTwo - 1.0;
    gl_Position = vec4(clipSpace, 0.0, 1.0);
  }
  `);h(this,"fragmentShader",`
  #ifdef GL_ES
  precision mediump float;
  #endif

  uniform vec2 u_resolution;
  uniform float u_time;
  
  void main() {
    vec2 st = gl_FragCoord.xy / u_resolution;
    vec3 color = 0.5 + 0.5*cos(u_time + st.xyx + vec3(0,2,4));
    gl_FragColor = vec4(color, 1.0);
  }
  `);this.canvasContainer=document.querySelector(".canvas-container"),this.canvas=document.createElement("canvas"),this.width=this.canvasContainer.clientWidth,this.height=this.canvasContainer.clientHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.canvas.style.backgroundColor="#3e3e3e",this.canvasContainer.appendChild(this.canvas),this.gl=this.canvas.getContext("webgl2"),this.gl.clearColor(0,0,0,1),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl||(console.error("WebGL not supported, falling back on experimental-webgl"),this.gl=this.canvas.getContext("experimental-webgl")),this.gl||alert("Your browser does not support WebGL"),t=t||{},this.vertexShader=t.vertexShader||this.vertexShader,this.fragmentShader=t.fragmentShader||this.fragmentShader,d(this,_,V).call(this),this.canvas.addEventListener("mousemove",i=>{this.uniforms.u_mouse.value=[i.offsetX,this.height-i.offsetY]}),window.addEventListener("resize",()=>{this.width=this.canvasContainer.clientWidth,this.height=this.canvasContainer.clientHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.gl.viewport(0,0,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.clearColor(0,0,0,1)})}draw(t=!1){t&&(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.clearColor(1,0,0,1)),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}destory(){try{this.gl.deleteProgram(this.program),this.canvas&&(document.querySelector(".canvas-container").innerHTML="")}catch(t){console.log("destory error",t)}}}T=new WeakMap,y=new WeakMap,_=new WeakSet,V=function(){this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.viewport(0,0,this.width,this.height);const t=d(this,_,A).call(this,this.gl.VERTEX_SHADER,this.vertexShader),i=d(this,_,A).call(this,this.gl.FRAGMENT_SHADER,this.fragmentShader);this.program=d(this,_,F).call(this,t,i),this.gl.useProgram(this.program),this.uniforms=new Proxy(I(this,T),{set:(l,m,n)=>(Object.defineProperty(n,"value",{get:()=>n._value,set:g=>{n._value=g,this.gl[`uniform${n.type}`](this.gl.getUniformLocation(this.program,m),n._value)}}),this.gl[`uniform${n.type}`](this.gl.getUniformLocation(this.program,m),n._value),Reflect.set(l,m,n)),get:(l,m)=>Reflect.get(l,m)}),this.uniforms.u_resolution={type:"2fv",_value:[this.width,this.height]},this.uniforms.u_time={type:"1f",_value:0},this.uniforms.u_mouse={type:"2fv",_value:[0,0]};const r=this.gl.getAttribLocation(this.program,"a_position");this.gl.enableVertexAttribArray(r);const o=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o);const a=new Float32Array([0+this.width,0,0,0,0,0+this.height,0+this.width,0,0,0+this.height,0+this.width,0+this.height]);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(a),this.gl.STATIC_DRAW),this.size=2,this.gl.vertexAttribPointer(r,this.size,this.gl.FLOAT,!1,0,0);const c=new Image;c.src="/src/assets/leaves.jpg",c.onload=()=>{this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!0);const l=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,l),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,c)}},A=function(t,i){const r=this.gl.createShader(t);if(this.gl.shaderSource(r,i),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS))return r;console.log(this.gl.getShaderInfoLog(r)),this.gl.deleteShader(r)},F=function(t,i){const r=this.gl.createProgram();return this.gl.attachShader(r,t),this.gl.attachShader(r,i),this.gl.linkProgram(r),r};let v=new C,L=0;function B(e){if(L){const t=(e-L)/1200;v.uniforms.u_time.value+=t}requestAnimationFrame(B),v.draw(),L=e}B(0);async function U(e){v.destory();try{let t=await fetch(e.path).then(r=>r.text());t=await N(t),v=new C({fragmentShader:t});const i=new URL(window.location.href);i.searchParams.set("info",JSON.stringify(e).trim()),window.history.pushState({},"",i.href)}catch(t){console.log(t)}J()}async function N(e){const t=/^\s*#include.*$/gm,i=e.match(t);if(i&&i.length>0){for(let r=0;r<i.length;r++){const o=i[r];let a=o.match(/"(.*)"/)[1];a.startsWith("./")?a=a.replace(/^\.\//,"/glslExample/fragment/"):a.startsWith("../")?a=a.replace(/^(\.\.\/)/,"/glslExample/"):a="/glslExample/fragment/"+a;const c=await fetch(a).then(l=>l.text());e=e.replace(o,`
${c}
`)}e=await N(e)}return e}const K=new URL(window.location.href),D=K.searchParams.get("info");if(D){const e=JSON.parse(D);U(e)}
